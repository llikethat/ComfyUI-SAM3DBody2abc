# ComfyUI-SAM3DBody2abc Requirements
# ===================================

# Core dependencies (usually already installed with ComfyUI)
numpy
torch
torchvision

# Computer Vision
opencv-python

# YOLO for person detection (auto-masks people in camera solver)
ultralytics

# Math utilities  
scipy

# TAPIR point tracking
einshape

# LoFTR feature matching (detector-free matcher)
kornia

# ============================================
# SAM-3D-Body DEPENDENCIES (Required)
# ============================================
# These are needed by Meta's SAM-3D-Body model
braceexpand
omegaconf
hydra-core
pytorch-lightning
einops
timm
huggingface-hub
roma
yacs

# ============================================
# FEATURE MATCHING (Optional - Recommended)
# ============================================
# Auto-downloads models on first use

# LightGlue - AI feature matcher (Apache 2.0)
# Improves parallax shot solving significantly
# git clone https://github.com/cvg/LightGlue.git && cd LightGlue && pip install -e .

# ============================================
# PARALLAX/TRANSLATION SOLVING (Optional)
# ============================================
# Without COLMAP, uses Essential Matrix fallback (less accurate)

# Install ComfyUI-COLMAP for full bundle adjustment:
# cd ComfyUI/custom_nodes
# git clone https://github.com/your-repo/ComfyUI-COLMAP

# COLMAP system install:
# Ubuntu: sudo apt install colmap
# Mac: brew install colmap  
# Windows: https://colmap.github.io/install.html

# ============================================
# CAMERA INTRINSICS (Optional - Recommended)
# ============================================
# MoGe2 provides accurate monocular intrinsics estimation
# Much better than heuristics when camera metadata is unknown

# pip install moge
# Models auto-download from HuggingFace on first use
# Requires ~60ms per frame (A100/RTX3090, FP16)

# ============================================
# GPU Notes
# ============================================
# Fast mode: CPU only (KLT, ORB)
# Balanced/Best: GPU recommended for LightGlue/LoFTR
# Falls back to ORB (CPU) if GPU unavailable

# ============================================
# SILHOUETTE REFINEMENT (Optional - v5.7.0+)
# ============================================
# For SMPL-based differentiable silhouette rendering

# SMPL/SMPL-X body model
# pip install smplx
# Download body models from https://smpl-x.is.tue.mpg.de/

# PyTorch3D for differentiable rendering
# Requires CUDA toolkit matching your PyTorch version
# conda install pytorch3d -c pytorch3d
# OR: pip install pytorch3d (may need to build from source)

# Without these, falls back to skeleton hull rendering (still works!)
