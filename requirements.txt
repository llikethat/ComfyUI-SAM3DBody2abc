# ComfyUI-SAM3DBody2abc Requirements
# ===================================

# Core dependencies (usually already installed with ComfyUI)
numpy
torch
torchvision

# Computer Vision
opencv-python

# YOLO for person detection (auto-masks people in camera solver)
ultralytics

# Math utilities  
scipy

# ============================================
# v5.0 TAPIR POINT TRACKING (Recommended)
# ============================================
# TAPIR provides temporally-consistent point tracking
# Required for CameraSolverV2

# pip install 'tapnet[torch] @ git+https://github.com/google-deepmind/tapnet.git'
# 
# Download checkpoint (~250MB):
# mkdir -p ComfyUI/models/tapir
# wget -P ComfyUI/models/tapir https://storage.googleapis.com/dm-tapnet/bootstap/bootstapir_checkpoint_v2.pt

# ============================================
# MESH RENDERING (Optional - Recommended)
# ============================================
# pyrender provides high-quality mesh rendering for overlays
# Without it, falls back to OpenCV-based rendering

# pip install pyrender trimesh PyOpenGL
#
# For headless rendering (servers without display):
# apt-get install libosmesa6-dev freeglut3-dev
# OR set: export PYOPENGL_PLATFORM=egl

# ============================================
# FEATURE MATCHING (Optional - Recommended)
# ============================================
# Auto-downloads models on first use

# LightGlue - AI feature matcher (Apache 2.0)
# Improves parallax shot solving significantly
# pip install lightglue

# LoFTR - Detector-free matcher via kornia (Apache 2.0)  
# Fallback for difficult/textureless scenes
# pip install kornia

# ============================================
# PARALLAX/TRANSLATION SOLVING (Optional)
# ============================================
# Without COLMAP, uses Essential Matrix fallback (less accurate)

# Install ComfyUI-COLMAP for full bundle adjustment:
# cd ComfyUI/custom_nodes
# git clone https://github.com/your-repo/ComfyUI-COLMAP

# COLMAP system install:
# Ubuntu: sudo apt install colmap
# Mac: brew install colmap  
# Windows: https://colmap.github.io/install.html

# ============================================
# CAMERA INTRINSICS (Optional - Recommended)
# ============================================
# MoGe2 provides accurate monocular intrinsics estimation
# Much better than heuristics when camera metadata is unknown

# pip install moge
# Models auto-download from HuggingFace on first use
# Requires ~60ms per frame (A100/RTX3090, FP16)

# ============================================
# GPU Notes
# ============================================
# Fast mode: CPU only (KLT, ORB)
# Balanced/Best: GPU recommended for LightGlue/LoFTR
# Falls back to ORB (CPU) if GPU unavailable
